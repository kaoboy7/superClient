"use strict";angular.module("clientApp",["ngRoute","restangular"]).config(["$routeProvider","RestangularProvider",function(a,b){b.setBaseUrl("https://pacific-journey-4451.herokuapp.com"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/polls",{templateUrl:"views/polls.html",controller:"PollsCtrl"}).when("/create/poll",{templateUrl:"views/polls-add.html",controller:"PollsAddCtrl"}).when("/poll/:id",{templateUrl:"views/polls-view.html",controller:"PollsViewCtrl"}).when("/poll/:id/delete",{templateUrl:"views/poll-delete.html",controller:"PollDeleteCtrl"}).when("/poll/:id/edit",{templateUrl:"views/poll-edit.html",controller:"PollEditCtrl"}).when("/poll/:id/results",{templateUrl:"views/polls-result.html",controller:"PollsResultCtrl"}).otherwise({redirectTo:"/"})}]).factory("PollsRestangular",["Restangular",function(a){return a.withConfig(function(a){a.setRestangularFields({id:"_id"})})}]).factory("Polls",["PollsRestangular",function(a){return a.service("polls")}]),angular.module("clientApp").controller("MainCtrl",["$scope",function(a){a.polls=["Poll 1","Poll 2","Poll 3"],a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("clientApp").controller("PollsCtrl",["$scope","Polls",function(a,b){a.polls=b.getList().$object,console.log(a.polls)}]),angular.module("clientApp").controller("PollsAddCtrl",["$scope","Polls","$location",function(a,b,c){a.poll={},a.poll.answers=[{answer:""},{answer:""}],a.addNewAnswer=function(){a.poll.answers.push({})},a.removeAnswer=function(b){var c=a.poll.answers.indexOf(b);-1!=c&&a.poll.answers.splice(c,1)},a.savePoll=function(){a.poll&&(console.log(JSON.stringify(a.poll)),b.post(a.poll).then(function(){c.path("/polls")}))}}]),angular.module("clientApp").controller("PollsViewCtrl",["$scope","Polls","$routeParams","$http","$location",function(a,b,c,d,e){a.viewPoll=!0,a.poll={},a.formData={test:"asdf"},console.log("Testing hello world"),console.log("$routeParams.id="+c.id),b.one(c.id).get().then(function(b){a.poll=b;for(var c=a.poll.answers.length,d=0;c>d;d++)console.log(a.poll.answers[d]),a.poll.answers[d].status=!1;console.log("TEST1"),console.log(JSON.stringify(a.poll)),console.log("TEST2"),console.log(a.poll.question),console.log("TEST3")}),a.vote=function(){console.log("Voting");for(var b=a.poll.answers.length,d=0;b>d;d++)a.poll.answers[d].status===!0&&(a.poll.answers[d].votes+=1);a.poll.save().then(function(){e.path("/poll/"+c.id+"/results")})}}]),angular.module("clientApp").controller("PollDeleteCtrl",["$scope","Polls","$routeParams","$location",function(a,b,c,d){a.poll=b.one(c.id).get().$object,a.deletePoll=function(){a.poll.remove().then(function(){d.path("/polls")})},a.back=function(){d.path("/poll/"+c.id)}}]),angular.module("clientApp").controller("PollEditCtrl",["$scope","Polls","$routeParams","$location",function(a,b,c,d){a.editPoll=!0,a.poll={},b.one(c.id).get().then(function(b){a.poll=b,a.savePoll=function(){a.poll.save().then(function(){d.path("/poll/"+c.id)})}})}]),angular.module("clientApp").controller("PollsResultCtrl",["$scope","Polls","$routeParams",function(a,b,c){console.log("Testing hello world"),console.log("$routeParams.id="+c.id),a.viewPoll=!0,a.poll={},b.one(c.id).get().then(function(b){a.poll=b,console.log("TEST1"),console.log(JSON.stringify(a.poll)),console.log("TEST2"),console.log(a.poll.question),console.log("TEST3")})}]);